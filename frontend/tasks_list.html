<!doctype html>
<html>
<head>
  <link rel="stylesheet" href="css/common.css">

  <meta charset="utf-8"/>
  <title>Tasks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>  <link rel="stylesheet" href="css/tasks_list.css">
</head>
<body>
  <div class="page">
    <h1>Tasks</h1>
    <div class="toolbar">
      <div>
        <label>Toggle Archived:</label><br/>
        <label style="display:inline-block;margin-right:10px"><input type="radio" name="archivedToggle" value="hide" id="hideArchived" checked> Hide Archived</label>
        <label style="display:inline-block"><input type="radio" name="archivedToggle" value="show" id="showArchived"> Show Archived</label>
      </div>
      <div>
        <label>Project</label><br/>
        <select id="project_select"><option value="">(all my tasks)</option></select>
      </div>
      <div>
        <label>Project ID</label><br/>
        <input id="project_id" placeholder="(optional)"/>
      </div>
      <div>
        <label>Assigned To</label><br/>
        <input id="assigned_to_id" placeholder="user id"/>
      </div>
      <div>
        <label>Tag</label><br/>
        <input id="tag_filter" placeholder="tag name" maxlength="12"/>
      </div>
      <div>
        <label>Limit</label><br/>
        <input id="limit" type="number" value="50" min="1" max="200"/>
      </div>
      <div>
        <button id="refresh">Refresh</button>
        <a href="create_task.html">Create Task</a>
      </div>
    </div>
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Progress</th>
          <th>Status</th>
          <th>Priority</th>
          <th>Due</th>
          <th>Project</th>
          <th>Assignee</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="rows"></tbody>
    </table>
  </div>

  <!-- Assignment Modal -->
  <div id="assignModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000">
      <div style="background:white; max-width:500px; margin:100px auto; padding:20px; border-radius:8px; box-shadow:0 4px 6px rgba(0,0,0,0.1)">
          <h2 style="margin-top:0">Assign Task to Team Members</h2>
          <div id="assignModalContent">
              <div id="teamMembersList" style="max-height:300px; overflow-y:auto; margin:20px 0; border:1px solid #ddd; border-radius:4px; background:#f9f9f9">
                  <p style="padding:20px; text-align:center; color:#666">Loading team members...</p>
              </div>
              <div style="margin-top:20px">
                  <button onclick="assignSelectedMembers()" style="background:#28a745; color:white; border:none; padding:10px 20px; border-radius:4px; cursor:pointer; font-size:14px">
                      âœ“ Assign Selected
                  </button>
                  <button onclick="closeAssignModal()" style="background:#6c757d; color:white; border:none; padding:10px 20px; border-radius:4px; cursor:pointer; margin-left:10px; font-size:14px">
                      Cancel
                  </button>
              </div>
          </div>
      </div>
  </div>

  <script src="scripts/common.js"></script>
  <script src="scripts/utils.js"></script>  <script src="scripts/tasks_list.js"></script>
</body>
</html>