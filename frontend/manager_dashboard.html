<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manager Dashboard - TaskMgr</title>  <link rel="stylesheet" href="css/manager_dashboard.css">
</head>
<body>
    <div class="container">
    
    <div style="margin: 2rem 0;">
        <h1 style="color: #333; margin-bottom: 0.5rem;">ğŸ‘” Manager Dashboard</h1>
        <p style="color: #666;">Team management and oversight</p>
    </div>
    
    <!-- Statistics Cards -->
    <div class="stats-grid" id="statsGrid">
        <!-- Will be populated by JS -->
    </div>
    
    <!-- Tabs -->
    <div class="tabs">
        <button class="tab active" id="tab-overview">ğŸ“Š Overview</button>
        <button class="tab" id="tab-team">ğŸ‘¥ My Team</button>
        <button class="tab" id="tab-tasks">âœ… Team Tasks</button>
        <button class="tab" id="tab-manage">âš™ï¸ Manage Team</button>
    </div>
    
    <!-- Tab: Overview -->
    <div id="overview-tab" class="tab-content active">
        <div class="section">
            <h2>ğŸ“Š Dashboard Overview</h2>
            <div id="overviewContent">Loading...</div>
        </div>
    </div>
    
    <!-- Tab: My Team -->
    <div id="team-tab" class="tab-content">
        <div class="section">
            <h2>ğŸ‘¥ My Team Members</h2>
            <div id="teamMembers">Loading team members...</div>
        </div>
    </div>
    
    <!-- Tab: Team Tasks -->
    <div id="tasks-tab" class="tab-content">
        <div class="section">
            <h2>âœ… Team Tasks</h2>
            <div id="teamTasks">Loading tasks...</div>
        </div>
    </div>
    
    <!-- Tab: Manage Team -->
    <div id="manage-tab" class="tab-content">
        <div class="section">
            <h2>âš™ï¸ Manage Team</h2>
            
            <div style="margin-bottom: 20px;">
                <button class="btn btn-success" id="assignStaffBtn">â• Assign Staff to Me</button>
                <button class="btn btn-primary" id="assignToOtherBtn">ğŸ‘¤ Assign Staff to Another Manager</button>
                <button class="btn btn-secondary" id="refreshTeamBtn">ğŸ”„ Refresh Team</button>
            </div>
            
            <h3>Current Team Members</h3>
            <div id="currentTeamList">Loading...</div>
        </div>
    </div>
    
    <!-- Modal: Assign Staff to Manager -->
    <div id="assignStaffModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeAssignModal">&times;</span>
            <h2>â• Assign Staff to Manager</h2>
            
            <div id="assignMessage"></div>
            
            <div class="form-group">
                <label for="targetManagerSelect">Target Manager:</label>
                <select id="targetManagerSelect">
                    <option value="">Select Manager...</option>
                </select>
                <small>Leave blank to assign to yourself</small>
            </div>
            
            <div class="form-group">
                <label>Select Staff Members:</label>
                <div style="margin-bottom: 10px;">
                    <button type="button" class="btn btn-secondary" id="selectAllStaff">Select All</button>
                    <button type="button" class="btn btn-secondary" id="deselectAllStaff">Deselect All</button>
                </div>
                <div class="checkbox-list" id="staffCheckboxList">
                    Loading available staff...
                </div>
            </div>
            
            <button class="btn btn-success" id="confirmAssignBtn" style="width: 100%; margin-top: 10px;">
                Assign Selected Staff
            </button>
        </div>
    </div>
    
    <!-- Modal: Assign Single Staff -->
    <div id="assignSingleModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeSingleModal">&times;</span>
            <h2>ğŸ‘¤ Assign Manager to Staff</h2>
            
            <div id="singleAssignMessage"></div>
            
            <form id="singleAssignForm">
                <div class="form-group">
                    <label for="singleStaffSelect">Staff Member:</label>
                    <select id="singleStaffSelect" required>
                        <option value="">Select Staff...</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="singleManagerSelect">Manager:</label>
                    <select id="singleManagerSelect" required>
                        <option value="">Select Manager...</option>
                    </select>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    Assign Manager
                </button>
            </form>
        </div>
    </div>
    
    <script src="scripts/common.js"></script>
    <script src="scripts/firebase-auth.js"></script></div> <!-- Close container -->  <script src="scripts/manager_dashboard.js"></script>

</body>
</html>