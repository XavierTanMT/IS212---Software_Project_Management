<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="css/common.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Task Manager</title>  <link rel="stylesheet" href="css/dashboard.css">
</head>

<body>
    <script src="scripts/common.js"></script>
  <script src="scripts/utils.js"></script>
    <script src="scripts/firebase-auth.js"></script><!-- Notifications: reminder banner (inlined) -->
    <div id="reminderBannerContainer" style="position:relative;z-index:40"></div><!-- Main Container -->
    <div class="container">
        <!-- Statistics Cards -->
        <div class="stats-grid">
            <div class="stat-card created">
                <div class="stat-header">
                    <span class="stat-icon">ğŸ“</span>
                    <span class="stat-title">Tasks Created</span>
                </div>
                <div class="stat-number" id="createdCount">-</div>
            </div>

            <div class="stat-card assigned">
                <div class="stat-header">
                    <span class="stat-icon">ğŸ“‹</span>
                    <span class="stat-title">Tasks Assigned</span>
                </div>
                <div class="stat-number" id="assignedCount">-</div>
            </div>

            <div class="stat-card completed">
                <div class="stat-header">
                    <span class="stat-icon">âœ…</span>
                    <span class="stat-title">Completed</span>
                </div>
                <div class="stat-number" id="completedCount">-</div>
            </div>

            <div class="stat-card overdue">
                <div class="stat-header">
                    <span class="stat-icon">â°</span>
                    <span class="stat-title">Overdue</span>
                </div>
                <div class="stat-number" id="overdueCount">-</div>
            </div>
        </div>

        <!-- View Toggle -->
        <div class="view-toggle">
            <button class="toggle-btn active" data-view="grid" onclick="toggleView('grid')">ğŸ“Š Grid View</button>
            <button class="toggle-btn" data-view="timeline" onclick="toggleView('timeline')">ğŸ“… Timeline View</button>
        </div>

        <!-- Grid View Container -->
        <div id="gridView" class="view-container">
            <!-- Charts Section -->
            <div class="charts-section">
                <div class="chart-card">
                    <div class="chart-title">ğŸ“Š Status Breakdown</div>
                    <div id="statusChart">
                        <div class="loading">Loading status data</div>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="chart-title">ğŸ¯ Priority Breakdown</div>
                    <div id="priorityChart">
                        <div class="loading">Loading priority data</div>
                    </div>
                </div>
            </div>

            <!-- Tasks Section -->
            <div class="tasks-section">
                <div class="tasks-card">
                    <div class="tasks-header">
                        <div class="tasks-title">ğŸ“ Recent Created Tasks</div>
                        <button class="view-all-btn" onclick="viewAllCreated()">View All</button>
                    </div>
                    <div class="tasks-list" id="createdTasksList">
                        <div class="loading">Loading created tasks</div>
                    </div>
                </div>

                <div class="tasks-card">
                    <div class="tasks-header">
                        <div class="tasks-title">ğŸ“‹ Recent Assigned Tasks</div>
                        <button class="view-all-btn" onclick="viewAllAssigned()">View All</button>
                    </div>
                    <div class="tasks-list" id="assignedTasksList">
                        <div class="loading">Loading assigned tasks</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Timeline View Container -->
        <div id="timelineView" class="view-container hidden">
            <button class="toggle-filters-btn" onclick="toggleTimelineFilters()">ğŸ” Show Filters</button>
            
            <div id="timelineFilters" class="timeline-filters">
                <div class="timeline-filters-header">
                    <div class="timeline-filters-title">Filter Timeline Tasks</div>
                </div>
                <div class="timeline-filters-content">
                    <div class="filter-group">
                        <label for="filterProject">Project:</label>
                        <select id="filterProject">
                            <option value="">All Projects</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterCategory">Category:</label>
                        <select id="filterCategory">
                            <option value="">All Categories</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterStatus">Status:</label>
                        <select id="filterStatus">
                            <option value="">All Statuses</option>
                        </select>
                    </div>
                    <div class="filter-actions">
                        <button class="filter-btn primary" onclick="applyTimelineFilters()">Apply Filters</button>
                        <button class="filter-btn" onclick="clearTimelineFilters()">Clear</button>
                    </div>
                </div>
            </div>

            <div id="conflictsSection" class="conflicts-section" style="display: none;">
                <div class="conflicts-title">âš ï¸ Schedule Conflicts</div>
                <div id="conflictsList"></div>
            </div>

            <div class="calendar-container">
                <div class="calendar-header">
                    <button class="calendar-nav-btn" onclick="navigateMonth(-1)">â† Previous</button>
                    <div class="calendar-title" id="calendarTitle">October 2025</div>
                    <button class="calendar-nav-btn" onclick="navigateMonth(1)">Next â†’</button>
                </div>
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Calendar will be generated by JavaScript -->
                </div>
            </div>

            <div class="no-due-date-section">
                <div class="no-due-date-header">
                    <span>ğŸ“</span>
                    <span>No Due Date</span>
                    <span id="noDueDateCount">(0)</span>
                </div>
                <div class="timeline-tasks" id="noDueDateTasks"></div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
        <button class="fab" onclick="createNewTask()" title="Create New Task">
            â•
        </button>
    </div><!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h3>ğŸ—‘ï¸ Archive Task</h3>
            <p id="deleteMessage">Are you sure you want to archive this task?</p>
            <div class="modal-actions">
                <button class="modal-btn cancel" onclick="closeDeleteModal()">Cancel</button>
                <button class="modal-btn confirm" onclick="executeDelete()" id="confirmDeleteBtn">
                    Archive Task
                </button>
            </div>
        </div>
    </div>  <script src="scripts/dashboard.js"></script>
</body></html>