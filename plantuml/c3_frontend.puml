@startuml c3_frontend
!include <C4/C4_Component>

title C3 - Component Diagram (Frontend Web Application)

Person(user, "User", "Staff/Manager/Admin")
Container(apiServer, "API Server", "Flask", "Backend REST API")
System_Ext(firebaseAuth, "Firebase Auth", "Authentication")

Container_Boundary(webApp, "Web Application") {
    Component(loginPage, "Login Page", "login.html", "User authentication with Firebase")
    Component(dashboardPage, "Dashboard Pages", "dashboard.html, manager_dashboard.html, admin_dashboard.html", "Role-based dashboards showing task summaries, team insights")
    Component(tasksPages, "Tasks Pages", "tasks_list.html, create_task.html, edit_task.html, task_detail.html", "Task management interfaces")
    Component(projectsPage, "Projects Page", "projects.html", "Project listing and management")
    Component(managerTeamView, "Manager Team View", "manager_team_view.html", "Team member task overview for managers")
    Component(taskNotesPage, "Task Notes Page", "task_notes.html", "Task comments and notes with @mentions")
    Component(attachmentsPage, "Attachments Page", "attachments.html", "File attachment management")
    Component(labelsPage, "Labels Page", "labels.html", "Label management")
    Component(userPages, "User Management", "create_user.html, create_user_firebase.html", "User creation and management")
    Component(firebaseConfig, "Firebase Config", "firebase-config.js", "Firebase configuration and initialization")
    Component(firebaseAuthJS, "Firebase Auth Module", "firebase-auth.js", "Firebase authentication helper functions")
    Component(commonJS, "Common Utilities", "common.js", "Shared JavaScript utilities, API calls, navigation")
}

Rel(user, loginPage, "Logs in")
Rel(user, dashboardPage, "Views dashboard")
Rel(user, tasksPages, "Manages tasks")
Rel(user, projectsPage, "Manages projects")
Rel(user, managerTeamView, "Views team tasks")
Rel(user, taskNotesPage, "Adds comments")
Rel(user, attachmentsPage, "Uploads files")
Rel(user, labelsPage, "Manages labels")
Rel(user, userPages, "Creates users")

Rel(loginPage, firebaseAuthJS, "Uses")
Rel(firebaseAuthJS, firebaseConfig, "Uses")
Rel(firebaseAuthJS, firebaseAuth, "Authenticates", "Firebase SDK")

Rel(dashboardPage, commonJS, "Uses")
Rel(tasksPages, commonJS, "Uses")
Rel(projectsPage, commonJS, "Uses")
Rel(managerTeamView, commonJS, "Uses")
Rel(taskNotesPage, commonJS, "Uses")
Rel(attachmentsPage, commonJS, "Uses")
Rel(labelsPage, commonJS, "Uses")
Rel(userPages, commonJS, "Uses")

Rel(commonJS, apiServer, "Makes API requests", "JSON/HTTPS")
Rel(firebaseAuthJS, apiServer, "Sends auth tokens", "HTTPS Headers")

@enduml